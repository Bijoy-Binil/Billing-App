<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Invoice {{ bill.bill_id }}</title>
  <style>
    body { font-family: 'Helvetica', sans-serif; margin: 30px; }
    h1 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    th { background-color: #f4f4f4; }
    .right { text-align: right; }
    .totals td { border: none; }
  </style>
</head>
<body>
  <h1>Invoice</h1>

  <p><strong>Bill ID:</strong> {{ bill.bill_id }}</p>
  <p><strong>Date:</strong> {{ bill.created_at|date:"Y-m-d H:i" }}</p>
  <p><strong>Cashier:</strong> {{ bill.cashier.email }}</p>
  {% if bill.customer %}
  <p><strong>Customer:</strong> {{ bill.customer.name }}</p>
  {% endif %}

  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Product</th>
        <th>Qty</th>
        <th>Price</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in bill.items.all %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ item.product.name }}</td>
        <td>{{ item.qty }}</td>
        <td class="right">{{ item.price }}</td>
        <td class="right">{{ item.qty|floatformat:2|add:item.price|floatformat:2 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <br />
  <table class="totals">
    <tr><td><strong>Subtotal:</strong></td><td class="right">{{ bill.subtotal }}</td></tr>
    <tr><td><strong>Tax:</strong></td><td class="right">{{ bill.tax }}</td></tr>
    <tr><td><strong>Discount:</strong></td><td class="right">{{ bill.discount }}</td></tr>
    <tr><td><strong>Total:</strong></td><td class="right"><strong>{{ bill.total }}</strong></td></tr>
  </table>

  <br /><br />
  <p style="text-align:center;">Thank you for your business!</p>
</body>
</html>
